<!DOCTYPE html>
<html lang="es">
<head>
	<title>Ejercicio 8 del libro</title>
</head>
<body>
	<h1>Ejercicio 8 del libro</h1>
	<form action="dsaas.php" method="post" id="form">
		<label for="nom">Nombre</label>
		<input type="text" name="asda" id="nom"/>
		<br>
		<br>
		<label for="fecha">Fecha de nacimiento xx/xx/xxxx</label>
		<input type="text" name="asda" id="fecha">
		<br>
		<label for="pais">Pais</label>
		<select name="pai" id="pais">
			<option value="54">Argentina</option>
			<option value="55">Brasi</option>
			<option value="56">Chile</option>
		</select>
		<input type="submit" id="Enviar" value="enviar">
	</form>
	<div id="msj"></div>

	<script>
		"use strict"
		
		function ocultar(){
			document.getElementById("msj").style.display = "none";
			document.getElementById("fecha").style.borderColor = "pink";
		}
		function es_menor(){
			document.getElementById("msj").style.display = "block";
			document.getElementById("msj").innerHTML = "Usted es menor de edad!!!";
			document.getElementById("fecha").style.borderColor = "green";
		}

		function enviar(){
			var fecha1 = document.getElementById("fecha").value;
			var dia = parseInt(fecha1.substr(0,2));
			var mes = parseInt(fecha1.substr(3,2));
			var anio = parseInt(fecha1.substr(6,4));
			var fechan = new Date();
			var day = fechan.getDate();
			var month = fechan.getMonth()+1;
			var year = fechan.getFullYear();
			if(year - anio >= 18){
				if (year - anio > 18) {
					return true;
				}
				if (year - anio == 18) {
					if (mes > month) {
						es_menor();
						return false;
					}
					if (mes < month) {
						return true;
					}
					if (month == mes) {
						if (dia <= day) {
							return true;
						}
						else es_menor();
						return false;						
					}					
				}
				
			}
			else es_menor();
				return false;
			
		}
		document.getElementById("form").onsubmit = enviar;
		document.getElementById("msj").style.display = "none";
		document.getElementById("fecha").onfocus = ocultar;
	</script>
</body>
</html>